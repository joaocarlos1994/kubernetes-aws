Deployments

A Deployment provides declarative updates for Pods and ReplicaSets.

You describe a desired state in a Deployment, and the Deployment Controller changes the actual
state to the desired state at a controlled rate. You can define Deployments to create new
ReplicaSets, or to remove existing Deployments and adopt all their resources with new
Deployments.

The following are typical use cases for Deployments:

    - Create a Deployment to rollout a ReplicaSet. The ReplicaSet creates Pods in the background. 
    Check the status of the rollout to see if it succeeds or not.

    - Declare the new state of the Pods by updating the PodTemplateSpec of the Deployment. A 
    new ReplicaSet is created and the Deployment manages moving the Pods from the old 
    ReplicaSet to the new one at a controlled rate. Each new ReplicaSet updates the revision of 
    the Deployment.

    - Rollback to an earlier Deployment revision if the current state of the Deployment is not stable. 
    Each rollback updates the revision of the Deployment.

    - Scale up the Deployment to facilitate more load.

    - Pause the Deployment to apply multiple fixes to its PodTemplateSpec and then resume it to 
    start a new rollout.

    - Use the status of the Deployment as an indicator that a rollout has stuck.

    - Clean up older ReplicaSets that you donâ€™t need anymore.



Some utils commands to use:

    - kubectl rollout status deploy webapp: This is used to verify the deployment status.

    - kubectl rollout history deploy webapp: This is command is used to check all version of
    a specific deploy, the folling lines is an example of output.

                                deployment.apps/webapp 
                                REVISION  CHANGE-CAUSE
                                2         <none>
                                3         <none>


    - kubectl rollout undo deploy webapp --to--revision=REVIION_NUMBER: This is one the most used
    command used especially in emergencies case to rollback an old deployment status.